<div class="container">
  <h1>Event Menu Item Sales Report</h1>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Logically display report data only when it's available -->
  <div *ngIf="reportData">
    <div *ngFor="let menu of reportData" class="menu-card">
      <h3>{{ menu.menuName }}</h3>
      <p>{{ menu.menuDescription }}</p>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Item Name</th>
            <th>Item Price</th>
            <th>Total Sold</th>
            <th>Total Revenue</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of menu.menuItems">
            <td>{{ item.itemName }}</td>
            <td>{{ item.itemPrice | currency:'ZAR' }}</td>
            <td>{{ item.totalSold }}</td>
            <td>{{ item.totalRevenue | currency:'ZAR' }}</td>
          </tr>
        </tbody>
      </table>

      <h4>Total Revenue for {{ menu.menuName }}: {{ menu.totalMenuRevenue | currency:'ZAR' }}</h4>
    </div>

    <h2>Overall Total Revenue: {{ overallTotalRevenue | currency:'ZAR' }}</h2>
  </div>

  <div *ngIf="!reportData" class="alert alert-info">Loading report...</div>
</div>

